##### 今日面试题总结:
1. 项目中如何完成测试？
 本地测试（自己写的微服务在本机启动）：
	 单元测试(编写测试类@Test)
	 集成测试（接口测试，使用postman接口测试工具去进行测试）
 将自己开发的微服务在公共环境中（服务器）启动：
	 组件测试：与集成测试相同，只是代码部署到了公共环境上
	 联调测试：从前端访问开始，到服务接受数据，处理数据等操作
****

 2.开发某个微服务需要调用另一个别人开发的微服务接口,但是别人还没有开发,你如何测试?
 使用mock服务器，模拟数据
 ****
 3. 项目怎么部署?怎么发布?
 使用jenkins自动集成部署发布
 ****
 4. jenkins的流程是什么样的？
  使用gogs作为git私服，将修改后的并经过本地测试的代码push到gogs，然后gogs通过钩子通知jenkins拉取代码进行构建，然后jenkins通过调用shell脚本完成Docker-compose部署
  ****
  5. 如何解决线上问题？
  * 查看日志
  * 远程debug
****
##### 日志
熟悉项目架构，了解到项目天机学堂分为两部分
* 学生端：核心业务主体就是学员，所有业务围绕学员展开
* 管理端：核心业务主体包括老师、管理员、其他员工，核心员工围绕老师展开
对于学员这一角色，项目中核心业务就是买课学习
**jenkins**
了解到jenkins这一持续集成组件，添加好部署脚本和Git钩子后，代码推送后会进行自动编译。
对于需要开发的功能，需要我们在本地开发自测成功后，再push到git私服,所以开发时就需要我们将项目先部署到本地环境，如果要在本地运行，需要设置profile为local 
##### BUG解决
**BUG发现**：我们用Jack登录，删除一个订单，删除成功，但是我们切换到rose用户登录，再次删除一个订单，却发现删除失败。
**理清请求链路**：通过查看前端请求分析，经过查看与分析发现删除订单会请求trade-service，因为请求是restful风格，查看请求路径找到对应的ordercontroller中的deleteorder处理，而deleteOrder是调用orderService的deleteOrder方法来处理业务的。找到bug发生的代码块
**远程调试**：在启动时加上
```
agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005
```
来进行远程调试
经过断点调试发现判断用户id时使用!=来判断，因为id是Long包装类型，当我们用==或!=来判断时，判断的是包装对象的地址并不是比较对象的值，需要注意的是Long和Integer包装类为了提高性能，采用了享元模式，提前将-128~127之间的Long对象提前创建出来，共享使用。解决方案是使用equals（）函数来进行值比较。修复bug后push到git的dev分支，重新构建tj-trade服务,再次测试通过。